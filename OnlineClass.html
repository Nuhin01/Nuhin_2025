<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bad Master üôÇ </title>
    <style>
        /* Base dark theme styles */
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background-color: #0f1419; /* Default to theme-3 */
            color: #f0f0f0;
            transition: background-color 0.3s ease, color 0.3s ease, line-height 0.3s ease, font-family 0.3s ease;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            position: relative;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
            position: relative;
            padding: 0 40px; /* Space for icons */
        }

        .tts-icon {
            position: absolute;
            top: 0;
            left: 0;
            font-size: 24px;
            cursor: pointer;
            color: #cccccc;
            z-index: 1000;
        }

        .tts-icon:hover {
            color: #ffffff;
        }

        .tts-icon.playing {
            color: #4CAF50;
        }

        .settings-icon {
            position: absolute;
            top: 0;
            right: 0;
            font-size: 24px;
            cursor: pointer;
            color: #cccccc;
            z-index: 1000;
        }

        .settings-icon:hover {
            color: #ffffff;
        }

        .settings-menu {
            display: none;
            position: absolute;
            top: 30px;
            right: 0;
            background-color: #333;
            border: 1px solid #555;
            border-radius: 4px;
            padding: 10px;
            min-width: 150px;
            z-index: 999;
            max-height: 300px;
            overflow-y: auto;
        }

        .settings-menu.show {
            display: block;
        }

        .settings-section {
            margin-bottom: 15px;
            border-bottom: 1px solid #555;
            padding-bottom: 10px;
        }

        .settings-section:last-child {
            border-bottom: none;
        }

        .settings-section h3 {
            margin: 0 0 5px 0;
            font-size: 12px;
            color: #aaa;
            text-transform: uppercase;
        }

        .theme-buttons, .font-controls, .lineheight-controls, .fontfamily-controls {
            margin-bottom: 5px;
        }

        .theme-btn, .font-btn, .lineheight-btn, .fontfamily-btn {
            background-color: #444;
            color: #e0e0e0;
            border: none;
            padding: 6px 10px;
            margin: 2px 0;
            cursor: pointer;
            border-radius: 3px;
            width: 100%;
            text-align: left;
            transition: background-color 0.3s ease;
        }

        .theme-btn:hover, .font-btn:hover, .lineheight-btn:hover, .fontfamily-btn:hover {
            background-color: #555;
        }

        .theme-btn.active, .lineheight-btn.active, .fontfamily-btn.active {
            background-color: #666;
        }

        h1 {
            color: #ffffff;
            margin: 0;
        }

        article {
            margin-bottom: 40px;
        }

        h2 {
            color: #cccccc;
        }

        p {
            font-size: 16px; /* Base font size */
            transition: font-size 0.3s ease;
            margin-bottom: 1em;
        }

        /* Theme classes for remaining dark backgrounds */
        body.theme-3 {
            background-color: #0f1419;
        }

        body.theme-4 {
            background-color: #1e1e2e;
        }

        /* Ensure readability with themes */
        body.theme-3 { color: #f0f0f0; }
        body.theme-4 { color: #cdd6f4; }

        h1 { color: #ffffff; }
        h2 { color: #cccccc; }

        /* Line height classes */
        body.lineheight-normal { line-height: 1.6; }
        body.lineheight-wide { line-height: 1.8; }
        body.lineheight-extra { line-height: 2.0; }

        /* Font family classes */
        body.fontfamily-sans { font-family: Arial, sans-serif; }
        body.fontfamily-serif { font-family: Georgia, serif; }
    </style>
</head>
<body class="theme-3 lineheight-normal fontfamily-sans">
    <div class="container">
        <header>
            <div class="tts-icon" id="ttsIcon" onclick="toggleTTS()" title="Text-to-Speech">üîä</div>
            <h1>Online Articles</h1>
            <div class="settings-icon" onclick="toggleSettings()" title="Settings">‚öôÔ∏è</div>
            <div class="settings-menu" id="settingsMenu">
                <div class="settings-section">
                    <h3>Theme</h3>
                    <div class="theme-buttons">
                        <button class="theme-btn active" onclick="changeTheme('theme-3'); toggleSettings()">Theme 3 (Dark Blue)</button>
                        <button class="theme-btn" onclick="changeTheme('theme-4'); toggleSettings()">Theme 4 (Slate)</button>
                    </div>
                </div>
                <div class="settings-section">
                    <h3>Text Size</h3>
                    <div class="font-controls">
                        <button class="font-btn" onclick="changeFontSize(-2); toggleSettings()">Smaller</button>
                        <button class="font-btn" onclick="changeFontSize(2); toggleSettings()">Larger</button>
                    </div>
                </div>
                <div class="settings-section">
                    <h3>Line Height</h3>
                    <div class="lineheight-controls">
                        <button class="lineheight-btn active" onclick="changeLineHeight('normal'); toggleSettings()">Normal</button>
                        <button class="lineheight-btn" onclick="changeLineHeight('wide'); toggleSettings()">Wide</button>
                        <button class="lineheight-btn" onclick="changeLineHeight('extra'); toggleSettings()">Extra</button>
                    </div>
                </div>
                <div class="settings-section">
                    <h3>Font Family</h3>
                    <div class="fontfamily-controls">
                        <button class="fontfamily-btn active" onclick="changeFontFamily('sans'); toggleSettings()">Sans-serif</button>
                        <button class="fontfamily-btn" onclick="changeFontFamily('serif'); toggleSettings()">Serif</button>
                    </div>
                </div>
            </div>
        </header>

        <article>
            <h2> 22 September,  2025 </h2>
            <p>This is a sample paragraph for the articles page. You can add your content here. The dark theme ensures comfortable reading in low light conditions. New features include adjustable line height for better spacing and font family options for personal preference.</p>
            <p>Another paragraph to demonstrate text flow. The background can be switched between two dark variants for user preference. Text-to-speech allows hands-free reading.</p>
        </article>

        <article>
            <h2>Sample Article 2</h2>
            <p>Here's more content. Use the font size controls to adjust readability based on your needs. Line height adjustments reduce eye strain during long reads.</p>
            <p>End of sample. Feel free to extend this with real articles. Serif fonts may feel more book-like for immersive reading.</p>
        </article>
    </div>

    <script>
        let currentFontSize = 16;
        let isPlaying = false;
        let synth;
        let utterance;

        if ('speechSynthesis' in window) {
            synth = window.speechSynthesis;
        }

        function toggleSettings() {
            const menu = document.getElementById('settingsMenu');
            menu.classList.toggle('show');
        }

        // Close menu when clicking outside
        document.addEventListener('click', function(event) {
            const menu = document.getElementById('settingsMenu');
            const icon = document.querySelector('.settings-icon');
            if (!menu.contains(event.target) && !icon.contains(event.target)) {
                menu.classList.remove('show');
            }
        });

        function changeTheme(themeClass) {
            // Remove all theme classes
            document.body.className = document.body.className.replace(/theme-\d+/g, '');
            // Add new theme class
            document.body.classList.add(themeClass);
            // Update active button
            document.querySelectorAll('.theme-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
        }

        function changeFontSize(delta) {
            currentFontSize += delta;
            currentFontSize = Math.max(12, Math.min(24, currentFontSize)); // Limit between 12px and 24px
            document.querySelectorAll('p, h1, h2').forEach(el => {
                el.style.fontSize = currentFontSize + 'px';
            });
        }

        function changeLineHeight(height) {
            // Remove all lineheight classes
            document.body.className = document.body.className.replace(/lineheight-\w+/g, '');
            // Add new lineheight class
            document.body.classList.add('lineheight-' + height);
            // Update active button
            document.querySelectorAll('.lineheight-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
        }

        function changeFontFamily(family) {
            // Remove all fontfamily classes
            document.body.className = document.body.className.replace(/fontfamily-\w+/g, '');
            // Add new fontfamily class
            document.body.classList.add('fontfamily-' + family);
            // Update active button
            document.querySelectorAll('.fontfamily-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
        }

        function toggleTTS() {
            if (!synth) {
                alert('Text-to-Speech not supported in this browser.');
                return;
            }

            const ttsIcon = document.getElementById('ttsIcon');

            if (isPlaying) {
                synth.cancel();
                isPlaying = false;
                ttsIcon.classList.remove('playing');
                ttsIcon.textContent = 'üîä';
            } else {
                const text = Array.from(document.querySelectorAll('h2, p')).map(el => el.textContent).join(' ');
                utterance = new SpeechSynthesisUtterance(text);
                utterance.rate = 0.9; // Slightly slower for comfort
                utterance.pitch = 1;
                utterance.volume = 1;
                utterance.onend = () => {
                    isPlaying = false;
                    ttsIcon.classList.remove('playing');
                    ttsIcon.textContent = 'üîä';
                };
                synth.speak(utterance);
                isPlaying = true;
                ttsIcon.classList.add('playing');
                ttsIcon.textContent = '‚è∏Ô∏è';
            }
        }
    </script>
</body>
            </html>
